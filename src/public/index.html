<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>학교 통합 공지 및 익명 게시판</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background: #f7f7f7; }
    header { background: #2d3e50; color: #fff; padding: 1rem; text-align: center; }
    nav { display: flex; justify-content: center; background: #eaeaea; }
    nav button { margin: 0.5rem; padding: 0.5rem 1rem; border: none; background: #d1d1d1; cursor: pointer; border-radius: 4px; }
    nav button.active { background: #2d3e50; color: #fff; }
    section { width: 100vw; max-width: none; margin: 2rem 0; background: #fff; padding: 2rem 0; border-radius: 0; box-shadow: 0 2px 8px #0001; }
    .notice-flex { display: flex; gap: 2rem; flex-wrap: wrap; width: 100%; }
    .notice-flex > div { flex: 1; min-width: 0; }
    .iframe-wrap { width: 100%; height: 600px; border: none; }
    .thread { border-bottom: 1px solid #eee; padding: 1rem 0; }
    .thread:last-child { border-bottom: none; }
    .thread-form { display: flex; gap: 0.5rem; margin-bottom: 1rem; }
    .thread-form input, .thread-form textarea { flex: 1; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; }
    .thread-form button { padding: 0.5rem 1rem; border: none; background: #1976d2; color: #fff; border-radius: 4px; cursor: pointer; transition: background 0.2s; }
    .thread-form button:hover { background: #1565c0; }
    /* 상단 버튼 스타일 */
    header button {
      background: #aae0f9;
      color: #115aa3;
      border: 2px solid #1976d2;
      font-weight: bold;
      transition: background 0.2s, color 0.2s;
    }
    header button:hover, header button.active {
      background: #1976d2;
      color: #fff;
      border-color: #1976d2;
    }
    @media (max-width: 900px) {
      section { padding: 0.5rem 0; }
      .iframe-wrap { height: 400px; }
      .notice-flex { flex-direction: column; gap: 1rem; }
    }
  </style>
</head>
<body>
  <header>
    <h1>학교 통합 공지 & 익명 게시판</h1>
    <div style="margin-top:1rem;">
      <button onclick="window.open('https://portal.kongju.ac.kr/','_blank')" style="margin-right:1rem;">포탈 바로가기</button>
      <button onclick="window.open('https://kncu.kongju.ac.kr/','_blank')" style="margin-right:1rem;">LMS 바로가기</button>
      <button onclick="window.open('https://sugang.kongju.ac.kr/','_blank')" style="margin-right:1rem;">수강신청 바로가기</button>
      <button id="quick-thread" onclick="showTab('thread')" style="margin-right:1rem;">익명 쓰레드</button>
      <button id="quick-school" onclick="showTab('school')" style="margin-right:1rem;">학교 공지</button>
      <button id="quick-dept" onclick="showTab('dept')" style="margin-right:1rem;">학과 공지</button>
      <button id="quick-dormi" onclick="showTab('dormi')" style="margin-right:1rem;">기숙사 공지</button>
      <button id="quick-meal" onclick="showTab('meal')" style="margin-right:1rem;">기숙사 식단표</button>
      <button id="quick-draw" onclick="showTab('draw')">그림판</button>
    </div>
  </header>

  <section id="school" style="display:none;">
    <h2 style="text-align:center;">학교 공지</h2>
    <iframe class="iframe-wrap" src="https://www.kongju.ac.kr/KNU/16909/subview.do" title="공주대학교 학생소식"></iframe>
  </section>
  <section id="dept" style="display:none;">
    <h2 style="text-align:center;">학과 공지</h2>
    <iframe class="iframe-wrap" src="https://sw.kongju.ac.kr/ZD1180/11654/subview.do" title="소프트웨어학과 공지"></iframe>
  </section>
  <section id="dormi" style="display:none;">
    <h2 style="text-align:center;">기숙사 공지</h2>
    <iframe class="iframe-wrap" src="https://dormi.kongju.ac.kr/HOME/board/?id=c-notice" title="기숙사 공지"></iframe>
  </section>
  <section id="meal" style="display:none;">
    <h2 style="text-align:center;">기숙사 식당 식단표</h2>
    <iframe class="iframe-wrap" src="https://dormi.kongju.ac.kr/HOME/sub.php?code=041304" title="기숙사 식당 식단표"></iframe>
  </section>
  <section id="thread" style="display:block; padding-left:2rem; padding-right:2rem;">
    <h2 style="text-align:center;">익명 쓰레드</h2>
    <form class="thread-form" onsubmit="addThread(event)" style="max-width:600px; margin:0 auto; flex-direction:column;">
      <div style="display:flex; gap:0.5rem; margin-bottom:1rem;">
        <input type="text" id="thread-name" placeholder="이름 (빈칸이면 Anonymous)">
        <input type="text" id="thread-title" placeholder="제목 (생략 가능)">
      </div>
      <textarea id="thread-content" placeholder="내용" required style="margin-bottom:0.5rem;"></textarea>
      <div style="display:flex; align-items:center; gap:0.3rem; margin-bottom:0.3rem; justify-content:flex-start;">
        <button type="submit" style="flex:unset; width:120px;">작성</button>
        <label for="attach-draw" style="display:flex; align-items:center; font-size:0.95em; cursor:pointer; margin-bottom:0;">
          <input type="checkbox" id="attach-draw" style="width:auto; margin-right:0.3rem;">
          그림판 그림 가져오기
        </label>
      </div>
    </form>
    <div id="threads" style="max-width:600px; margin:2rem auto 0 auto;"></div>
  </section>
  <section id="draw" style="display:none;">
    <h2 style="text-align:center;">그림판</h2>
    <div style="display:flex; justify-content:center;">
      <canvas id="paint-canvas" width="600" height="400" style="border:1px solid #1976d2; background:#fff;"></canvas>
    </div>
    <div style="text-align:center; margin-top:1rem;">
      <button onclick="clearCanvas()">지우기</button>
    </div>
  </section>
  
  <script src="main.js"></script>
  
</body>
</html>